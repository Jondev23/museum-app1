/* ============================================
   SCREEN TRANSITION ANIMATIONS
   Transiciones básicas CSS + Sistema JavaScript avanzado
   ============================================ */

:root {
  /* Variables de respaldo para transiciones CSS básicas */
  --anim-duration: 0.3s;
  --ease-basic: ease-out;
}

/* ============================================
   BASE - Clases de utilidad básicas
   ============================================ */
/* Preparación para animaciones JavaScript */
.js-animate {
  will-change: transform, opacity;
}

.js-animate-complete {
  will-change: auto;
}

/* Si el usuario prefiere movimientos reducidos, desactivar animaciones */
@media (prefers-reduced-motion: reduce) {
  .js-animate {
    will-change: auto !important;
  }
  
  /* Transiciones instantáneas como fallback */
  .screen-transition {
    animation: none !important;
    transition: none !important;
  }
}

/* ============================================
   FALLBACK CSS ANIMATIONS (solo para casos de emergencia)
   ============================================ */
.screen-transition {
  animation-duration: var(--anim-duration);
  animation-timing-function: var(--ease-basic);
  animation-fill-mode: both;
}

/* Fallbacks básicos muy rápidos */
.fallback-fade-in {
  animation: fallbackFadeIn var(--anim-duration) var(--ease-basic);
}

.fallback-fade-out {
  animation: fallbackFadeOut var(--anim-duration) var(--ease-basic);
}

@keyframes fallbackFadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fallbackFadeOut {
  from { opacity: 1; }
  to { opacity: 0; }
}

/* ============================================
   UTILITY CLASSES
   ============================================ */
/* Estados de visibilidad para JavaScript */
.screen-hidden {
  opacity: 0;
  pointer-events: none;
  display: none;
}

.screen-visible {
  opacity: 1;
  pointer-events: auto;
  display: block;
}

.screen-transitioning {
  pointer-events: none;
}

/* Contenedor optimizado para animaciones JavaScript */
.screen-container {
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden;
  /* Optimizaciones para rendimiento */
  transform-style: preserve-3d;
  backface-visibility: hidden;
  perspective: 1000px;
}

/* Activar aceleración por hardware */
.hw-accelerated {
  transform: translate3d(0, 0, 0);
  backface-visibility: hidden;
  perspective: 1000px;
}

/* Para evitar scroll durante transiciones */
.transition-active {
  overflow: hidden;
}

/* Clase para elementos que se van a animar */
.will-animate {
  will-change: transform, opacity;
}

/* Optimizaciones para móviles y tablets */
@media (max-width: 768px) {
  .screen-container {
    /* Reducir efectos costosos en dispositivos móviles */
    perspective: none;
  }
}

/* ============================================
   CLASES DE ESTADO PARA JAVASCRIPT
   ============================================ */
.entering {
  /* Elemento está entrando */
}

.exiting {
  /* Elemento está saliendo */
}

.animation-complete {
  /* Animación completada, limpieza */
  will-change: auto;
}
