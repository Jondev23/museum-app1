@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom fonts for museum app */
@font-face {
  font-family: 'Tisa Pro';
  src: url('/fonts/TisaPro-Regular.otf') format('opentype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Tisa Pro';
  src: url('/fonts/TisaPro-Light.otf') format('opentype');
  font-weight: 300;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Tisa Pro';
  src: url('/fonts/TisaPro-BoldItalic.otf') format('opentype');
  font-weight: 700;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: 'Tisa Pro';
  src: url('/fonts/TisaPro-XboldIta.otf') format('opentype');
  font-weight: 800;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: 'Tisa Sans Pro';
  src: url('/fonts/TisaSansPro-Regular.otf') format('opentype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Tisa Sans Pro';
  src: url('/fonts/TisaSansPro-Medium.otf') format('opentype');
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

/* CSS Variables for colors and fonts */
:root {
  /* Fonts */
  --font-serif: 'Tisa Pro';
  --font-sans: 'Tisa Sans Pro';
  
  /* Typography variables - Based on official Figma design tokens */
  /* Head & Auswertung - Main titles */
  --font-size-head: min(5vw, 96px);
  --line-height-head: min(6vw, 115.2px);
  --font-weight-head: 700;
  --font-style-head: italic;
  --font-family-head: 'Tisa Pro', serif;
  
  /* Subline - Subtitles */
  --font-size-subline: min(3.5vw, 64px);
  --line-height-subline: min(4.2vw, 76.8px);
  --font-weight-subline: 400;
  --font-style-subline: normal;
  --font-family-subline: 'Tisa Sans Pro', sans-serif;
  
  /* Fragen - Questions */
  --font-size-fragen: min(3vw, 54px);
  --line-height-fragen: min(3.9vw, 70.2px);
  --font-weight-fragen: 800;
  --font-style-fragen: italic;
  --font-family-fragen: 'Tisa Pro', serif;
  
  /* Antworten Buttons - Answer buttons */
  --font-size-antworten-buttons: min(2.5vw, 48px);
  --line-height-antworten-buttons: min(3.2vw, 57.6px);
  --font-weight-antworten-buttons: 400;
  --font-style-antworten-buttons: normal;
  --font-family-antworten-buttons: 'Tisa Sans Pro', sans-serif;
  --letter-spacing-antworten-buttons: 0.48px;
  
  /* Antwort Fließ - Flow text */
  --font-size-antwort-fliess: min(2vw, 36px);
  --line-height-antwort-fliess: min(2.8vw, 50.4px);
  --font-weight-antwort-fliess: 400;
  --font-style-antwort-fliess: normal;
  --font-family-antwort-fliess: 'Tisa Pro', serif;
  --letter-spacing-antwort-fliess: 0.36px;
  
  /* Antwort Fließ Bold - Flow text bold */
  --font-size-antwort-fliess-bold: min(2vw, 36px);
  --line-height-antwort-fliess-bold: min(2.8vw, 50.4px);
  --font-weight-antwort-fliess-bold: 700;
  --font-style-antwort-fliess-bold: normal;
  --font-family-antwort-fliess-bold: 'Tisa Pro', serif;
  --letter-spacing-antwort-fliess-bold: 0.36px;
  
  /* Responsive font sizes for StartScreen - mapped to design tokens */
  --font-size-title: var(--font-size-head);
  --line-height-title: var(--line-height-head);
  --font-size-subtitle: var(--font-size-subline);
  --line-height-subtitle: var(--line-height-subline);
  --font-size-highlight: var(--font-size-antworten-buttons);
  --line-height-highlight: var(--line-height-antworten-buttons);
  --letter-spacing-highlight: var(--letter-spacing-antworten-buttons);
  --font-size-intro: var(--font-size-antwort-fliess);
  --line-height-intro: var(--line-height-antwort-fliess);
  --letter-spacing-intro: var(--letter-spacing-antwort-fliess);
  
  /* Common responsive values */
  --spacing-xs: min(0.5rem, 1vw);
  --spacing-sm: min(0.75rem, 1.5vw);
  --spacing-md: min(1rem, 2vw);
  --spacing-lg: min(1.5rem, 3vw);
  --spacing-xl: min(2rem, 4vw);
  --spacing-2xl: min(2.5rem, 5vw);
  
  --border-radius-sm: min(0.5rem, 1vw);
  --border-radius-md: min(1rem, 2vw);
  
  --font-size-admin: min(1rem, 2vw);
  --font-size-admin-sm: min(0.875rem, 1.75vw);
  --font-size-admin-title: min(1.375rem, 2.75vw);
  
  /* Design System Colors (from Figma tokens) */
  --color-kupfer: #a94930;           /* Cobre - color principal del museo */
  --color-kupfer-dark: #7c3422;      /* Cobre oscuro */
  --color-blassgruen: #85af8b;       /* Verde claro */
  --color-blassgruen-dark: #598364;  /* Verde oscuro */
  --color-schiefer: #344243;         /* Pizarra */
  --color-schiefer-dark: #273132;    /* Pizarra oscuro */
  --color-taube: #61809d;            /* Paloma (azul grisáceo) */
  --color-taube-dark: #42596e;       /* Paloma oscuro */
  --color-neutral-light: #d9d9d9;    /* Gris claro */
  --color-neutral-dark: #1e1e1e;     /* Gris oscuro */
  --color-white: #ffffff;            /* Blanco */
  --color-bordeaux: #6f2149;         /* Burdeos */
  --color-bordeaux-dark: #501835;    /* Burdeos oscuro */
  --color-petrol: #017a99;           /* Azul petróleo */
  --color-petrol-dark: #015165;      /* Azul petróleo oscuro */
  
  /* Semantic color aliases - using design system */
  --color-primary: var(--color-kupfer);
  --color-primary-dark: var(--color-kupfer-dark);
  --color-secondary: var(--color-blassgruen);
  --color-secondary-dark: var(--color-blassgruen-dark);
  --color-accent: var(--color-taube);
  --color-text-primary: var(--color-neutral-light);
  --color-text-secondary: var(--color-schiefer);
  --color-background-primary: var(--color-neutral-dark);
  --color-background-secondary: var(--color-schiefer);
  
  /* Feedback colors using design system */
  --color-feedback-correct: var(--color-blassgruen-dark);
  --color-feedback-incorrect: var(--color-kupfer);
  --color-feedback-answer-bg: var(--color-neutral-light);
  --color-feedback-answer-text: var(--color-schiefer);
  
  /* Museum theme colors */
  --color-museum-brown: var(--color-primary);
  
  /* Legacy aliases for backward compatibility */
  --color-light-gray: var(--color-neutral-light);
  --color-green: var(--color-secondary);
  --color-dark-gray: var(--color-schiefer);
  --color-brown: var(--color-primary);
  
  /* Overlay colors */
  --color-overlay: rgba(0, 0, 0, 0.75);
  --color-overlay-light: rgba(0, 0, 0, 0.3);
  --color-white-overlay: rgba(255, 255, 255, 0.95);
  --color-white-translucent-20: rgba(255, 255, 255, 0.2);
  --color-white-translucent-30: rgba(255, 255, 255, 0.3);
  
  /* Admin specific colors */
  --color-admin-input-bg: #f8f9fa;
  --color-admin-success-bg: rgba(34, 197, 94, 0.1);
  
  /* Additional system colors */
  --color-background-primary: #000000;
  --color-text-primary: var(--color-light-gray);
  --color-text-secondary: var(--color-dark-gray);
  --color-accent: var(--color-green);
  
  /* Screensaver specific colors */
  --color-screensaver-title: #61809D;
  --color-screensaver-overlay: var(--color-overlay-light);
  --color-screensaver-touch-bg: var(--color-white-translucent-20);
  --color-screensaver-touch-border: var(--color-white-translucent-30);
  
  /* Results screen specific colors */
  --color-results-overlay: var(--color-overlay);
  
  /* Language selector specific colors */
  --color-language-overlay: var(--color-dark-gray);
  --color-language-button-active: var(--color-brown);
  --color-language-button-inactive: var(--color-light-gray);
}

@layer base {
  html {
    font-family: var(--font-sans), var(--font-serif);
  }
  
  body {
    margin: 0;
    padding: 0;
    overflow: hidden;
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    font-family: var(--font-sans), var(--font-serif);
  }
}

@layer components {
  /* Typography classes based on official Figma design tokens */
  .typography-head {
    font-family: var(--font-family-head);
    font-size: var(--font-size-head);
    line-height: var(--line-height-head);
    font-weight: var(--font-weight-head);
    font-style: var(--font-style-head);
    text-align: center;
  }
  
  .typography-subline {
    font-family: var(--font-family-subline);
    font-size: var(--font-size-subline);
    line-height: var(--line-height-subline);
    font-weight: var(--font-weight-subline);
    font-style: var(--font-style-subline);
    text-align: center;
  }
  
  .typography-fragen {
    font-family: var(--font-family-fragen);
    font-size: var(--font-size-fragen);
    line-height: var(--line-height-fragen);
    font-weight: var(--font-weight-fragen);
    font-style: var(--font-style-fragen);
    text-align: center;
    padding-left: min(12rem, 12vw, 15vh);
    padding-right: min(12rem, 12vw, 15vh);
    box-sizing: border-box;
  }
  
  .typography-antworten-buttons {
    font-family: var(--font-family-antworten-buttons);
    font-size: var(--font-size-antworten-buttons);
    line-height: var(--line-height-antworten-buttons);
    font-weight: var(--font-weight-antworten-buttons);
    font-style: var(--font-style-antworten-buttons);
    letter-spacing: var(--letter-spacing-antworten-buttons);
    text-align: center;
  }
  
  .typography-antwort-fliess {
    font-family: var(--font-family-antwort-fliess);
    font-size: var(--font-size-antwort-fliess);
    line-height: var(--line-height-antwort-fliess);
    font-weight: var(--font-weight-antwort-fliess);
    font-style: var(--font-style-antwort-fliess);
    letter-spacing: var(--letter-spacing-antwort-fliess);
    text-align: center;
  }
  
  .typography-antwort-fliess-bold {
    font-family: var(--font-family-antwort-fliess-bold);
    font-size: var(--font-size-antwort-fliess-bold);
    line-height: var(--line-height-antwort-fliess-bold);
    font-weight: var(--font-weight-antwort-fliess-bold);
    font-style: var(--font-style-antwort-fliess-bold);
    letter-spacing: var(--letter-spacing-antwort-fliess-bold);
    text-align: center;
  }

  /* Base typography classes - enhanced with design tokens */
  .text-base {
    text-align: center;
    color: var(--color-text-primary);
  }
  
  .text-serif-base {
    font-family: var(--font-serif);
    font-weight: 400;
  }
  
  .text-sans-base {
    font-family: var(--font-sans);
    font-weight: 400;
  }
  
  /* Legacy typography classes mapped to design tokens */
  .title-main {
    @apply typography-head;
    color: var(--color-text-primary);
  }
  
  .title-question {
    @apply typography-fragen;
    color: var(--color-text-primary);
  }
  
  .subtitle-main {
    @apply typography-subline;
    color: var(--color-accent);
  }
  
  .text-body-primary {
    @apply typography-antwort-fliess;
    color: var(--color-text-primary);
  }
  
  .text-body-bold {
    @apply typography-antwort-fliess-bold;
    color: var(--color-text-primary);
  }
  
  .text-button {
    @apply typography-antworten-buttons;
    color: var(--color-text-primary);
  }
  
  .text-answer {
    @apply typography-antworten-buttons;
    color: var(--color-text-primary);
  }

  /* Color utility classes */
  .bg-feedback-correct {
    background-color: var(--color-feedback-correct);
  }
  
  .bg-feedback-incorrect {
    background-color: var(--color-feedback-incorrect);
  }
  
  .bg-feedback-answer {
    background-color: var(--color-feedback-answer-bg);
  }
  
  .text-feedback-answer {
    color: var(--color-feedback-answer-text);
  }
  
  .text-primary {
    color: var(--color-text-primary);
  }
  
  .text-secondary {
    color: var(--color-text-secondary);
  }
  
  .text-accent {
    color: var(--color-accent);
  }
  
  .border-primary {
    border-color: var(--color-text-primary);
  }

  /* Admin Panel Styles */
  .admin-overlay {
    @apply fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50;
  }
  
  .admin-panel {
    @apply bg-white rounded-lg w-full shadow-2xl;
    padding: var(--spacing-2xl);
    border-radius: var(--border-radius-md);
    max-width: min(24rem, 85vw);
    margin: var(--spacing-md);
    backdrop-filter: blur(20px);
    background-color: var(--color-white-overlay);
  }
  
  .admin-panel-wide {
    @apply bg-white rounded-lg shadow-2xl w-full flex flex-col items-center;
    max-width: min(26rem, 90vw);
    padding: var(--spacing-2xl);
    border-radius: var(--border-radius-md);
    backdrop-filter: blur(20px);
    background-color: var(--color-white-overlay);
  }
  
  .admin-title {
    @apply font-medium text-center text-gray-800;
    font-size: var(--font-size-admin-title);
    margin-bottom: var(--spacing-xl);
    font-weight: 500;
  }
  
  .admin-form {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-lg);
  }
  
  .admin-form-group {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-md);
  }
  
  .admin-label {
    @apply block font-medium text-gray-600;
    font-size: var(--font-size-admin-sm);
    margin-bottom: var(--spacing-sm);
    font-weight: 500;
  }
  
  .admin-input {
    @apply w-full border-0 bg-gray-50 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all;
    padding: min(0.875rem, 1.75vw) var(--spacing-md);
    border-radius: var(--border-radius-sm);
    font-size: var(--font-size-admin);
    background-color: var(--color-admin-input-bg);
  }
  
  .admin-button-group {
    @apply flex;
    gap: var(--spacing-sm);
  }
  
  /* Base admin button class */
  .admin-button-base {
    @apply rounded-lg transition-all font-medium;
    padding: min(0.875rem, 1.75vw) min(1.25rem, 2.5vw);
    border-radius: var(--border-radius-sm);
    font-size: var(--font-size-admin);
    font-weight: 500;
  }
  
  .admin-button-primary {
    @apply admin-button-base bg-blue-500 text-white hover:bg-blue-600;
  }
  
  .admin-button-secondary {
    @apply admin-button-base bg-gray-100 text-gray-700 hover:bg-gray-200;
  }
  
  .admin-button-danger {
    @apply admin-button-base bg-gray-200 text-gray-800 hover:bg-gray-300;
  }
  
  .admin-success-message {
    @apply text-green-600 text-center rounded-lg;
    margin-bottom: var(--spacing-md);
    padding: var(--spacing-sm);
    background-color: var(--color-admin-success-bg);
    font-size: var(--font-size-admin-sm);
  }
  
  .admin-separator {
    height: 1px;
    background: linear-gradient(90deg, transparent, #e5e7eb, transparent);
    margin: var(--spacing-xs) 0;
  }
  
  .kiosk-item {
    @apply w-full rounded-lg text-left font-medium transition-all;
    font-size: var(--font-size-admin);
    padding: var(--spacing-md) min(1.25rem, 2.5vw);
    border-radius: var(--border-radius-sm);
    font-weight: 500;
  }
  
  .kiosk-item-selected {
    @apply bg-blue-500 text-white;
  }
  
  .kiosk-item-unselected {
    @apply bg-gray-50 text-gray-800 hover:bg-gray-100;
  }
  
  .kiosk-item-subtitle {
    @apply font-normal opacity-70;
    font-size: var(--font-size-admin-sm);
    margin-top: min(0.25rem, 0.5vw);
  }
  
  .admin-corner-trigger {
    @apply fixed z-50 opacity-0;
    width: var(--spacing-xl);
    height: var(--spacing-xl);
  }
  
  /* Button styles */
  .btn-primary {
    @apply text-white font-semibold py-4 px-8 rounded-lg transition-all duration-200 transform hover:scale-105 active:scale-95;
    background-color: var(--color-museum-brown);
  }
  
  .btn-primary:hover {
    background-color: var(--color-museum-brown);
    opacity: 0.9;
  }
  
  .btn-answer {
    @apply bg-white font-medium py-4 px-6 rounded-lg transition-all duration-200 transform hover:scale-105 active:scale-95 min-w-48;
    border: 2px solid var(--color-museum-brown);
    color: var(--color-museum-brown);
  }
  
  .btn-answer:hover {
    background-color: var(--color-museum-brown);
    color: white;
  }
  
  .btn-disabled {
    @apply bg-gray-300 text-gray-500 cursor-not-allowed transform-none hover:scale-100;
  }
  
  .progress-dot {
    @apply w-4 h-4 rounded-full mx-1 transition-all duration-300;
  }
  
  .progress-current {
    @apply bg-white;
    border: 2px solid var(--color-museum-brown);
  }
  
  .progress-correct {
    background-color: var(--color-feedback-correct);
  }
  
  .progress-incorrect {
    background-color: var(--color-feedback-incorrect);
  }
  
  .progress-unanswered {
    @apply bg-gray-400;
  }
}
